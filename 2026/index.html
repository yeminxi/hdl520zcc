<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/svg+xml,%3Csvg viewBox=%220 0 1163 1024%22 version=%221.1%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath d=%22M163.739537 163.739511C252.905721 74.573316 397.472657 74.573316 486.638841 163.739511 507.816822 184.917411 538.469985 210.779846 538.469985 210.779846 561.566443 230.830447 599.125656 230.82272 622.109336 210.779846 622.109336 210.779846 652.762638 184.917411 673.94048 163.739511 763.106664 74.573316 907.673738 74.573316 996.839922 163.739511 1086.006106 252.905706 1086.006106 397.472673 996.839922 486.638867 992.385937 491.092849 579.987511 902.193841 579.987511 902.193841 579.987511 902.193841 164.442361 487.341684 163.739537 486.638867 74.573354 397.472673 74.573354 252.905706 163.739537 163.739511L163.739537 163.739511 163.739537 163.739511ZM618.920545 1000.354662C618.920545 1000.354662 1059.029656 561.436653 1065.333622 555.132671 1192.328026 428.138392 1192.328026 222.239986 1065.333622 95.245708 938.339356-31.748569 732.441046-31.748569 605.446781 95.245708 575.369686 125.322782 580.108177 123.245618 580.108177 123.245618 580.108177 123.245618 564.038435 104.151532 555.132679 95.245708 428.138413-31.748569 222.239965-31.748569 95.245699 95.245708-31.748566 222.239986-31.748566 428.138392 95.245699 555.132671 96.239256 556.126187 540.501241 1000.358476 540.501241 1000.358476 562.126461 1021.982258 597.296432 1021.920221 618.920545 1000.354662L618.920545 1000.354662ZM989.405405 311.351351C989.405405 211.999804 908.865038 131.459459 809.513514 131.459459 782.764973 131.459459 761.081081 153.143398 761.081081 179.891892 761.081081 206.640385 782.764973 228.324324 809.513514 228.324324 855.368095 228.324324 892.540541 265.49679 892.540541 311.351351 892.540541 338.099845 914.224432 359.783784 940.972973 359.783784 967.721514 359.783784 989.405405 338.099845 989.405405 311.351351L989.405405 311.351351ZM878.702703 470.486486C905.451243 470.486486 927.135135 448.802548 927.135135 422.054054 927.135135 395.305561 905.451243 373.621622 878.702703 373.621622 851.954162 373.621622 830.27027 395.305561 830.27027 422.054054 830.27027 448.802548 851.954162 470.486486 878.702703 470.486486L878.702703 470.486486Z%22 fill=%22%23d81e06%22%3E%3C/path%3E%3C/svg%3E" type="image/svg+xml">
    <title>是给灿儿的&#10084;&#65039;</title>
    <script src="https://cdn.jsdelivr.net/gh/zyoushuo/Blog/hexo/js/mouse_slide.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/zyoushuo/Blog/hexo/js/clicklove.js"></script>
  <style type="text/css">
    html, body {
      height: 100%;
      padding: 0;
      margin: 0;
      background: #000;
    }
    canvas {
      position: absolute;
      width: 100%;
      height: 100%;
    }
    .namebox{
      color: #fff;
      position: absolute;   
            top: 50%;   
            left: 50%;   
            -webkit-transform: translate(-50%, -50%);   
            -moz-transform: translate(-50%, -50%);   
            -ms-transform: translate(-50%, -50%);   
            -o-transform: translate(-50%, -50%);   
            transform: translate(-50%, -50%);   
    }
    .namebox h1{
      margin: 0 auto;
    }
    a {
        text-decoration: none; /* 去除下划线 */
        color: inherit;        /* 继承父元素的颜色，或者指定一个具体颜色 */
    }
  </style>

</head>
<body>
<canvas id="pinkboard"></canvas>
<script>
  var settings = {
    particles: {
      length: 500, // maximum amount of particles
      duration: 2, // particle duration in sec
      velocity: 100, // particle velocity in pixels/sec
      effect: -0.75, // play with this for a nice effect
      size: 30, // particle size in pixels
    },
  };
  (
          function(){
            var b=0;
            var c=["ms","moz","webkit","o"];
            for(var a=0;a<c.length&&!window.requestAnimationFrame;++a){
              window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];
              window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"]
            }
            if(!window.requestAnimationFrame){
              window.requestAnimationFrame=function(h,e){
                var d=new Date().getTime();
                var f=Math.max(0,16-(d-b));
                var g=window.setTimeout(function(){h(d+f)},f);b=d+f;return g}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(d){clearTimeout(d)}}}());
  var Point = (function() {
    function Point(x, y) {
      this.x = (typeof x !== 'undefined') ? x : 0;
      this.y = (typeof y !== 'undefined') ? y : 0;
    }
    Point.prototype.clone = function() {
      return new Point(this.x, this.y);
    };
    Point.prototype.length = function(length) {
      if (typeof length == 'undefined')
        return Math.sqrt(this.x * this.x + this.y * this.y);
      this.normalize();
      this.x *= length;
      this.y *= length;
      return this;
    };

    Point.prototype.normalize = function() {
      var length = this.length();
      this.x /= length;
      this.y /= length;
      return this;
    };
    return Point;
  })();

  var Particle = (function() {
    function Particle() {
      this.position = new Point();
      this.velocity = new Point();
      this.acceleration = new Point();
      this.age = 0;
    }
    Particle.prototype.initialize = function(x, y, dx, dy) {
      this.position.x = x;
      this.position.y = y;
      this.velocity.x = dx;
      this.velocity.y = dy;
      this.acceleration.x = dx * settings.particles.effect;
      this.acceleration.y = dy * settings.particles.effect;
      this.age = 0;
    };
    Particle.prototype.update = function(deltaTime) {
      this.position.x += this.velocity.x * deltaTime;
      this.position.y += this.velocity.y * deltaTime;
      this.velocity.x += this.acceleration.x * deltaTime;
      this.velocity.y += this.acceleration.y * deltaTime;
      this.age += deltaTime;
    };

    Particle.prototype.draw = function(context, image) {
      function ease(t) {
        return (--t) * t * t + 1;
      }
      var size = image.width * ease(this.age / settings.particles.duration);
      context.globalAlpha = 1 - this.age / settings.particles.duration;
      context.drawImage(image, this.position.x - size / 2, this.position.y - size / 2, size, size);
    };
    return Particle;
  })();
  /*

  * ParticlePool class

  */
  var ParticlePool = (function() {
    var particles,
            firstActive = 0,
            firstFree = 0,
            duration = settings.particles.duration;
    function ParticlePool(length) {
// create and populate particle pool
      particles = new Array(length);
      for (var i = 0; i < particles.length; i++)
        particles[i] = new Particle();
    }
    ParticlePool.prototype.add = function(x, y, dx, dy) {
      particles[firstFree].initialize(x, y, dx, dy);
// handle circular queue
      firstFree++;
      if (firstFree == particles.length) firstFree = 0;
      if (firstActive == firstFree ) firstActive++;
      if (firstActive == particles.length) firstActive = 0;
    };
    ParticlePool.prototype.update = function(deltaTime) {
      var i;
// update active particles
      if (firstActive < firstFree) {
        for (i = firstActive; i < firstFree; i++)
          particles[i].update(deltaTime);
      }
      if (firstFree < firstActive) {
        for (i = firstActive; i < particles.length; i++)
          particles[i].update(deltaTime);
        for (i = 0; i < firstFree; i++)
          particles[i].update(deltaTime);
      }
// remove inactive particles
      while (particles[firstActive].age >= duration && firstActive != firstFree) {
        firstActive++;
        if (firstActive == particles.length) firstActive = 0;
      }
    };
    ParticlePool.prototype.draw = function(context, image) {
// draw active particles
      if (firstActive < firstFree) {
        for (i = firstActive; i < firstFree; i++)
          particles[i].draw(context, image);
      }
      if (firstFree < firstActive) {
        for (i = firstActive; i < particles.length; i++)
          particles[i].draw(context, image);
        for (i = 0; i < firstFree; i++)
          particles[i].draw(context, image);
      }
    };
    return ParticlePool;
  })();
  /*

  * Putting it all together

  */
  (function(canvas) {
    var context = canvas.getContext('2d'),
            particles = new ParticlePool(settings.particles.length),
            particleRate = settings.particles.length / settings.particles.duration, // particles/sec
            time;
// get point on heart with -PI <= t <= PI
    function pointOnHeart(t) {
      return new Point(
              160 * Math.pow(Math.sin(t), 3),
              130 * Math.cos(t) - 50 * Math.cos(2 * t) - 20 * Math.cos(3 * t) - 10 * Math.cos(4 * t) + 25
      );

    }

// creating the particle image using a dummy canvas

    var image = (function() {
      var canvas = document.createElement('canvas'),
              context = canvas.getContext('2d');
      canvas.width = settings.particles.size;
      canvas.height = settings.particles.size;
// helper function to create the path
      function to(t) {
        var point = pointOnHeart(t);
        point.x = settings.particles.size / 2 + point.x * settings.particles.size / 350;
        point.y = settings.particles.size / 2 - point.y * settings.particles.size / 350;
        return point;
      }
// create the path
      context.beginPath();
      var t = -Math.PI;
      var point = to(t);
      context.moveTo(point.x, point.y);
      while (t < Math.PI) {
        t += 0.01; // baby steps!
        point = to(t);
        context.lineTo(point.x, point.y);
      }
      context.closePath();
// create the fill
      context.fillStyle = '#ff30c5';
      // context.fillStyle = '#ea80b0';
      context.fill();
// create the image
      var image = new Image();
      image.src = canvas.toDataURL();
      return image;
    })();
// render that thing!
    function render() {
// next animation frame
      requestAnimationFrame(render);
// update time
      var newTime = new Date().getTime() / 1000,
              deltaTime = newTime - (time || newTime);
      time = newTime;
// clear canvas
      context.clearRect(0, 0, canvas.width, canvas.height);
// create new particles
      var amount = particleRate * deltaTime;
      for (var i = 0; i < amount; i++) {
        var pos = pointOnHeart(Math.PI - 2 * Math.PI * Math.random());
        var dir = pos.clone().length(settings.particles.velocity);
        particles.add(canvas.width / 2 + pos.x, canvas.height / 2 - pos.y, dir.x, -dir.y);
      }
// update and draw particles
      particles.update(deltaTime);
      particles.draw(context, image);
    }
// handle (re-)sizing of the canvas
    function onResize() {
      canvas.width = canvas.clientWidth;
      canvas.height = canvas.clientHeight;
    }
    window.onresize = onResize;
// delay rendering bootstrap
    setTimeout(function() {
      onResize();
      render();
    }, 10);
  })(document.getElementById('pinkboard'));
</script>
<div class="namebox">
  <a href="https://wanhan.lanzouu.com/iL7TS3g82rxa" target="_blank"><h1>HDL&#10084;&#65039;ZCC</h1></a>
</div>
</body>
</html>